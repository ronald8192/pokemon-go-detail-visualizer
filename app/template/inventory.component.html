<div *ngIf="errorMessage!=''" class="alert alert-danger alert-dismissible fade in" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span>
    </button>
    <h4>Oops!</h4>
    <p>{{errorMessage}}</p>
    <p>
        <button type="button" class="btn btn-sm btn-default" (click)="jsonString='';errorMessage=''">Clear JSON</button>
    </p>
</div>
<form class="well">
    <div class="form-group">
        <label for="inventory-json">JSON String:</label>
        <div class="input-group">
            <textarea class="form-control" id="inventory-json" [(ngModel)]="jsonString" (keyup)="doCalculate()" placeholder='[{"id":81,"cp":105,"move_1":206,"move_2":72,"height":0.24,"weight":3.41,"individual_attack":9,"individual_defense":11,"individual_stamina":6,"cp_multiplier":0.2902,"favorite":false,"nickname":null},{"id":17,"cp":205,"move_1":210,"move_2":80,"height":1.15,"weight":29.33,"individual_attack":1,"individual_defense":11,"individual_stamina":7,"cp_multiplier":0.3492,"favorite":false,"nickname":"Pidgeotto42"},{"id":101,"cp":301,"move_1":221,"move_2":35,"height":1.24,"weight":85.16,"individual_attack":15,"individual_defense":9,"individual_stamina":3,"cp_multiplier":0.3492,"favorite":false,"nickname":"Electrode60"},{"id":77,"cp":284,"move_1":209,"move_2":21,"height":0.74,"weight":21.82,"individual_attack":11,"individual_defense":11,"individual_stamina":14,"cp_multiplier":0.3492,"favorite":true,"nickname":"Ponyta80"},{"id":39,"cp":268,"move_1":238,"move_2":88,"height":0.62,"weight":9.49,"individual_attack":3,"individual_defense":13,"individual_stamina":0,"cp_multiplier":0.4628,"favorite":false,"nickname":null},{"id":118,"cp":281,"move_1":216,"move_2":58,"height":0.54,"weight":14.88,"individual_attack":14,"individual_defense":10,"individual_stamina":5,"cp_multiplier":0.4431,"favorite":false,"nickname":"Goldeen64.44"}]'>

            </textarea>
            <div id="inventory-calc-btn" class="input-group-addon" (click)="doCalculate()">Calculate</div>
        </div>
    </div>
</form>

<h4 *ngIf="pokemons.length>0">Click title to sort (except Nickname)</h4>
<div id="summary-container" class="row panel panel-default" *ngIf="pokemons.length>0" >

    <table class="table table-striped table-hover panel-body">
        <thead>
        <tr>
            <th (click)="sortPokemonBy(pokemons, 'id')">ID</th>
            <th (click)="sortPokemonBy(pokemons, 'name')">Name</th>
            <th>Nickname</th>
            <th (click)="sortPokemonBy(pokemons, 'cp')">CP</th>
            <th (click)="sortPokemonBy(pokemons, 'individual_attack')">IV-Attack</th>
            <th (click)="sortPokemonBy(pokemons, 'individual_defense')">IV-Defense</th>
            <th (click)="sortPokemonBy(pokemons, 'individual_stamina')">IV-Stamina</th>
            <th (click)="sortPokemonBy(pokemons, 'perfection')">Perfection</th>
            <th (click)="sortPokemonBy(pokemons, 'cp_multiplier')">CP Multiplier</th>
            <th (click)="sortPokemonBy(pokemons, 'height')">Height(m)</th>
            <th (click)="sortPokemonBy(pokemons, 'weight')">Weight(KG)</th>
            <th (click)="sortPokemonBy(pokemons, 'favorite')">Favourite</th>
        </tr>
        </thead>
        <tr *ngFor="let pokemon of pokemons">
            <td>{{pokemon.id}}</td>
            <td>{{pokemon.name}}</td>
            <td [class.text-muted]="!pokemon.nickname">{{pokemon.nickname?pokemon.nickname:'--'}}</td>
            <td>{{pokemon.cp}}</td>
            <td>{{pokemon.individual_attack}}</td>
            <td>{{pokemon.individual_defense}}</td>
            <td>{{pokemon.individual_stamina}}</td>
            <td>{{pokemon.perfection | percent}}</td>
            <td>{{pokemon.cp_multiplier}}</td>
            <td>{{pokemon.height}}</td>
            <td>{{pokemon.weight}}</td>
            <td>{{pokemon.favorite?"Yes":"No"}}</td>
        </tr>
    </table>
</div>

